# Web3大学平台 - 简化版

## 项目简介
这是一个简化的Web3教育平台演示项目，专注于核心功能的学习和理解。项目移除了复杂的智能合约交互、AI集成和外部API依赖，保留了基本的课程浏览、创建和钱包连接功能。

## 🎯 核心功能

### 学生端
- **课程浏览**: 查看所有可用课程，包括标题、描述、封面和内容预览
- **课程详情**: 点击课程查看完整内容，支持Markdown格式渲染
- **钱包连接**: 基本的MetaMask钱包连接功能
- **响应式设计**: 适配桌面端和移动端

### 作者端
- **课程管理**: 查看已创建的课程列表
- **创建课程**: 简单的课程创建表单，支持标题、描述、内容、价格和封面
- **课程预览**: 创建前预览课程效果
- **用户名管理**: 使用数字签名验证设置和修改个人用户名，确保身份真实性
- **签名验证**: 基于以太坊签名的用户名验证系统，防止用户名被冒用
- **钱包连接**: 连接钱包以创建课程

## 🛠️ 技术架构

### 前端技术栈
- **React 18**: 现代化的用户界面框架
- **Vite**: 快速的构建工具
- **shadcn/ui**: 现代化的UI组件库
- **Tailwind CSS**: 实用优先的CSS框架
- **Wagmi**: 以太坊钱包连接
- **TypeScript**: 类型安全的JavaScript

### 项目结构
```
web3-college/
├── src/                    # 前端应用代码
│   ├── components/        # UI组件
│   │   ├── ui/           # 基础UI组件
│   │   └── Header.tsx    # 页面头部组件
│   ├── pages/            # 页面组件
│   │   ├── StudentPage.tsx      # 学生端页面
│   │   ├── AuthorPage.tsx       # 作者端页面
│   │   ├── CreateCoursePage.tsx # 创建课程页面
│   │   └── CourseDetailPage.tsx # 课程详情页面
│   ├── hooks/            # 自定义Hooks
│   │   ├── useWallet.tsx        # 钱包连接Hook
│   │   └── use-toast.ts         # 提示消息Hook
│   ├── config/           # 配置文件
│   │   └── wagmi.ts      # Wagmi配置
│   ├── types/            # TypeScript类型定义
│   │   └── index.ts      # 全局类型定义
│   ├── lib/              # 工具函数
│   │   └── utils.ts      # 通用工具函数
│   └── styles/           # 样式文件
│       └── cards.css     # 卡片样式
├── public/               # 静态资源
├── package.json          # 项目依赖
└── README.md            # 项目说明
```

## 🚀 快速开始

### 环境要求
- Node.js 18+
- npm 或 yarn
- MetaMask钱包（用于测试）
- Infura API Key（用于连接 Sepolia 测试网，可选）

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

## 📖 使用说明

### 学生端使用
1. 打开应用，浏览可用课程
2. 点击课程卡片查看详细信息
3. 连接钱包获得完整功能（可选）
4. 查看课程内容和购买者信息

### 作者端使用
1. 连接钱包
2. 设置个人用户名（点击"设置用户名"按钮，需要签名验证）
3. 点击"创建课程"按钮
4. 填写课程信息（标题、描述、内容、价格、封面）
5. 预览课程效果
6. 创建课程（**先写入区块链，确认后再保存到服务器**）
7. 在作者页面查看已创建的课程

**用户名验证流程**：
- 输入用户名后，系统会要求您使用钱包签名
- 签名验证通过后，用户名将被永久绑定到您的钱包地址
- 验证后的用户名会显示绿色标识，表示已验证

**注意**: 课程创建采用 Web3 优先策略：
- 首先将课程数据写入区块链
- 等待区块链交易确认
- 确认成功后，再将数据保存到 Web2 服务器
- 确保数据的去中心化存储和中心化备份

## 🎨 功能特性

### 课程管理
- **Web3 优先**: 课程数据首先写入区块链，确保去中心化存储
- **双重保障**: 区块链确认后，数据同步保存到 Web2 服务器
- **交易追踪**: 每个课程都包含区块链交易哈希，可追溯验证
- **Markdown支持**: 课程内容支持Markdown格式
- **图片预览**: 支持课程封面图片预览
- **响应式布局**: 适配不同屏幕尺寸

### 钱包集成
- **MetaMask支持**: 支持MetaMask钱包连接
- **地址显示**: 显示钱包地址和ETH余额
- **用户名管理**: 支持设置和修改个人用户名
- **签名验证**: 使用以太坊签名验证用户名所有权
- **身份认证**: 基于区块链的身份验证系统
- **连接状态**: 实时显示钱包连接状态

### 用户体验
- **直观界面**: 清晰的功能分区和导航
- **实时反馈**: 操作状态提示和错误处理
- **响应式设计**: 适配不同设备尺寸

## 🔧 开发说明

### 代码结构
- **组件化设计**: 每个页面都是独立的React组件
- **类型安全**: 使用TypeScript确保类型安全
- **状态管理**: 使用React Hooks管理组件状态
- **样式系统**: 使用Tailwind CSS和shadcn/ui组件

### 主要文件说明
- `StudentPage.tsx`: 学生端主页面，展示课程列表
- `AuthorPage.tsx`: 作者端主页面，展示已创建课程
- `CreateCoursePage.tsx`: 课程创建页面，包含表单和预览
- `CourseDetailPage.tsx`: 课程详情页面，展示完整内容
- `useWallet.tsx`: 钱包连接Hook，处理钱包状态
- `Header.tsx`: 页面头部组件，包含导航和钱包信息

## 🎯 学习目标

这个简化版本专注于以下学习目标：

1. **React基础**: 组件化开发、状态管理、生命周期
2. **TypeScript**: 类型定义、接口设计、类型安全
3. **UI设计**: 现代化UI组件库的使用
4. **钱包集成**: Web3钱包连接的基本原理
5. **项目结构**: 大型React项目的组织方式

## 🚀 扩展建议

基于这个简化版本，你可以考虑添加以下功能：

1. **数据持久化**: 使用localStorage或IndexedDB保存数据
2. **路由管理**: 添加更多页面和路由
3. **状态管理**: 使用Redux或Zustand管理全局状态
4. **API集成**: 连接真实的后端API
5. **智能合约**: 添加简单的智能合约交互
6. **用户认证**: 实现用户登录和权限管理

## 🔧 代码质量

项目使用 Biome 进行代码检查和格式化，确保代码质量：

### 代码检查规则
- **TypeScript 类型安全**: 严格的类型检查，避免运行时错误
- **React 最佳实践**: 遵循 React Hooks 规则和组件设计原则
- **可访问性**: 支持键盘导航和屏幕阅读器
- **性能优化**: 使用 useCallback 和 useMemo 优化渲染性能
- **代码规范**: 统一的代码风格和命名规范

### 已修复的问题
- ✅ 移除未使用的导入
- ✅ 修复非空断言，添加适当的空值检查
- ✅ 改进可访问性，支持键盘导航
- ✅ 使用 useId() 生成唯一ID，避免DOM冲突
- ✅ 修复数组索引作为key的问题
- ✅ 完善 useEffect 依赖项，使用 useCallback 优化性能
- ✅ 修复 label 元素与控件的关联

## 📝 注意事项

- 这是一个学习项目，不包含真实的区块链交互
- 所有数据都是模拟数据，不会持久化保存
- 钱包连接仅用于演示，不会进行真实的交易
- 项目专注于前端开发，不包含后端服务

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License