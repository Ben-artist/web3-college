# ğŸš€ Cloudflare Workers ç®€åŒ–ä½¿ç”¨æŒ‡å—

## ğŸ“– è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„Web2æ•°æ®å­˜å‚¨æœåŠ¡ï¼Œç”¨æ¥é…åˆä½ çš„Web3åº”ç”¨å­˜å‚¨è¯¾ç¨‹å’Œè´­ä¹°è®°å½•ã€‚

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### 1. è¯¾ç¨‹ç®¡ç†
- **åˆ›å»ºè¯¾ç¨‹**: ä¿å­˜è¯¾ç¨‹ä¿¡æ¯
- **æŸ¥è¯¢è¯¾ç¨‹**: è·å–ç”¨æˆ·åˆ›å»ºçš„è¯¾ç¨‹

### 2. è´­ä¹°è®°å½•
- **è®°å½•è´­ä¹°**: è®°å½•è°ä¹°äº†ä»€ä¹ˆè¯¾ç¨‹
- **æŸ¥è¯¢è®°å½•**: æŸ¥çœ‹è¯¾ç¨‹çš„è´­ä¹°æƒ…å†µ

## ğŸ“ æ•°æ®æ ¼å¼

### è¯¾ç¨‹æ•°æ®
```json
{
  "ç”¨æˆ·åœ°å€": [
    {
      "courseId": "è¯¾ç¨‹ID",
      "content": "è¯¾ç¨‹å†…å®¹",
      "title": "è¯¾ç¨‹æ ‡é¢˜",
      "cost": 100
    }
  ]
}
```

### è´­ä¹°è®°å½•
```json
[
  {
    "courseId": "è¯¾ç¨‹ID",
    "creator": "åˆ›ä½œè€…åœ°å€",
    "buyers": ["ä¹°å®¶1", "ä¹°å®¶2"],
    "title": "è¯¾ç¨‹æ ‡é¢˜",
    "count": 2,
    "cost": 100
  }
]
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. åˆ›å»ºè¯¾ç¨‹
```javascript
const response = await fetch('/api/courses', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    address: "ç”¨æˆ·åœ°å€",
    courseId: "è¯¾ç¨‹ID",
    content: "è¯¾ç¨‹å†…å®¹",
    title: "è¯¾ç¨‹æ ‡é¢˜",
    cost: 100
  })
});
```

### 2. è®°å½•è´­ä¹°
```javascript
const response = await fetch('/api/purchases', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    courseId: "è¯¾ç¨‹ID",
    creator: "åˆ›ä½œè€…åœ°å€",
    buyer: "è´­ä¹°è€…åœ°å€",
    title: "è¯¾ç¨‹æ ‡é¢˜",
    cost: 100
  })
});
```

### 3. æŸ¥è¯¢è¯¾ç¨‹
```javascript
const response = await fetch('/api/courses/ç”¨æˆ·åœ°å€');
const data = await response.json();
console.log(data.courses); // è¯¾ç¨‹åˆ—è¡¨
```

### 4. æŸ¥è¯¢è´­ä¹°è®°å½•
```javascript
const response = await fetch('/api/purchases/è¯¾ç¨‹ID');
const data = await response.json();
console.log(data.purchases); // è´­ä¹°è®°å½•
```

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆåˆ›å»ºè¯¾ç¨‹å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ï¼š
1. JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦åŒ…å«æ‰€æœ‰å¿…è¦å­—æ®µ
3. æ•°æ®æ˜¯å¦ä¸ºç©º

### Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ
A: ä½¿ç”¨Cloudflare Workers KVå­˜å‚¨ï¼Œå…¨çƒåˆ†å¸ƒå¼ï¼Œè®¿é—®é€Ÿåº¦å¿«ã€‚

### Q: å¦‚ä½•éƒ¨ç½²ï¼Ÿ
A: è¿è¡Œ `./deploy.sh` å³å¯ä¸€é”®éƒ¨ç½²ã€‚

## ğŸ‰ æ€»ç»“

è¿™ä¸ªæœåŠ¡å¾ˆç®€å•ï¼š
- æ¥æ”¶æ•°æ® â†’ éªŒè¯æ ¼å¼ â†’ å­˜å‚¨åˆ°KV â†’ è¿”å›ç»“æœ
- æ”¯æŒè¯¾ç¨‹å’Œè´­ä¹°è®°å½•çš„åŸºæœ¬æ“ä½œ
- é”™è¯¯å¤„ç†å‹å¥½ï¼Œä¾¿äºè°ƒè¯•

é€‚åˆå­¦ä¹ å’Œç†è§£Web2æ•°æ®å­˜å‚¨çš„åŸºæœ¬æ¦‚å¿µï¼
